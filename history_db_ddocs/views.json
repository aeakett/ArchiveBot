{
   "_id": "_design/jobs",
   "_rev": "3-5adc627f361e32d92efaf3dc4a8d4507",
   "language": "javascript",
   "views": {
       "by_url_and_queue_time": {
           "map": "function(doc) {\n  var status = {\n    aborted: doc['aborted'],\n    completed: doc['completed'],\n    depth: doc['depth']\n  };\n\n  var utcTime = (doc['queued_at'] || 0) + (doc['queued_at_utc_offset'] || 0);\n\n  emit([doc['url'], utcTime], [1, utcTime, status]);\n}",
           "reduce": "function (keys, values, rereduce) {\n  var i, status, maxtime = 0;\n \n  for(i = 0; i < values.length; ++i) {\n    if (maxtime <= values[i][1]) {\n      maxtime = values[i][1];\n      status = values[i][2];\n    }\n  }\n\n  return [values.length, maxtime, status];\n}"
       },
       "by_ident": {
           "map": "function(doc) {\n  emit(doc['ident'], true);\n}"
       }
   }
}
